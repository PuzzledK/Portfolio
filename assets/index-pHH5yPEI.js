(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();let u=!1;document.addEventListener("DOMContentLoaded",i=>{document.getElementById("camera").addEventListener("mousedown",v)});const g=()=>{const i=document.createElement("div");i.className="flex flex-col h-[500px] w-[900px] absolute left-40 top-10 bg-black";const n=document.createElement("div");n.className="flex h-[5%] justify-end w-full bg-gray-500 items-baseline px-2 items-center";const r=document.createElement("button");r.className="w-[1.2rem] h-[1.2rem] flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition",r.textContent="X",r.addEventListener("click",o=>{u=!1,i.remove()});let s=!1,e,t;return n.addEventListener("mousedown",o=>{s=!0,e=o.clientX-i.offsetLeft,t=o.clientY-i.offsetTop,n.classList.remove("cursor-grab"),n.classList.add("cursor-grabbing"),o.preventDefault()}),document.addEventListener("mousemove",o=>{if(!s)return;const c=window.innerWidth,a=window.innerHeight,m=i.getBoundingClientRect(),f=document.getElementById("sideNav").getBoundingClientRect().width,p=c-m.width,h=a-m.height;let d=o.clientX-e,l=o.clientY-t;d=Math.max(f,Math.min(d,p)),l=Math.max(0,Math.min(l,h)),i.style.position="absolute",i.style.left=d+"px",i.style.top=l+"px"}),document.addEventListener("mouseup",()=>{s&&(s=!1,i.classList.remove("cursor-grabbing"))}),n.appendChild(r),i.appendChild(n),i},v=i=>{if(u)return;u=!0;const n=g();let r;if(navigator&&navigator.mediaDevices){const e={audio:!1,video:{facingMode:"user"}},t=document.createElement("video");t.className="w-full h-full scale-x-[-1]",navigator.mediaDevices.getUserMedia(e).then(o=>{r=o,t.srcObject=o,t.onloadedmetadata=function(c){t.play()},n.appendChild(t)}).catch(o=>{const c=document.createElement("div");c.className="flex w-full h-full items-center justify-center text-white";const a=document.createElement("h4");a.textContent=o,c.appendChild(a),n.appendChild(c)})}else{const e=document.createElement("div");e.className="flex w-full h-full items-center justify-center text-white";const t=document.createElement("h4");t.textContent="CAMERA NOT SUPPORTED :(",e.appendChild(t),n.appendChild(e)}n.querySelector("button").addEventListener("click",()=>{r&&r.getTracks().forEach(e=>e.stop())}),document.body.appendChild(n)};
