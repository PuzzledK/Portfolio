(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(t){if(t.ep)return;t.ep=!0;const l=e(t);fetch(t.href,l)}})();const f=(a,n)=>{const e=document.createElement("div");e.className="flex flex-col h-[500px] w-[900px] absolute left-40 top-10 bg-black";const o=document.createElement("div");o.className="flex h-[5%] justify-between w-full bg-black items-baseline px-2 items-center";const t=document.createElement("p");t.textContent=a,t.style.color="white";const l=document.createElement("button");l.className="w-[1.2rem] h-[1.2rem] flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition",l.textContent="X",l.addEventListener("click",i=>{e.classList.add("out"),e.addEventListener("animationend",()=>{e.remove(),n&&n.cleanup&&n.cleanup()})});let s=!1,d,v;return o.addEventListener("mousedown",i=>{s=!0,d=i.clientX-e.offsetLeft,v=i.clientY-e.offsetTop,o.classList.remove("cursor-grab"),o.classList.add("cursor-grabbing"),i.preventDefault()}),document.addEventListener("mousemove",i=>{if(!s)return;const b=window.innerWidth,y=window.innerHeight,E=e.getBoundingClientRect(),C=document.getElementById("sideNav").getBoundingClientRect().width,N=b-E.width,L=y-E.height;let h=i.clientX-d,g=i.clientY-v;h=Math.max(C,Math.min(h,N)),g=Math.max(0,Math.min(g,L)),e.style.position="absolute",e.style.left=h+"px",e.style.top=g+"px"}),document.addEventListener("mouseup",()=>{s&&(s=!1,e.classList.remove("cursor-grabbing"))}),o.appendChild(t),o.appendChild(l),e.appendChild(o),e},x=(a,n)=>{const e=document.createElement("div");e.className="flex w-full h-full items-center justify-center text-white";const o=document.createElement("h4");o.textContent=n,e.appendChild(o),a.appendChild(e)},w=(a,n)=>{a.window&&(a.window.style.zIndex=n.zind++)},c={zind:100,wallpaper:""},S=["Wallpaper"],O=["1.png","2.jpg","3.jpeg"],I=a=>{const n=document.getElementById("mainDiv");c.wallpaper=a,localStorage.setItem("wallpaper",a),n.style.backgroundImage=`url(/assets/wallpapers/${c.wallpaper})`},r={opened:!1,stream:null,window:null,cleanup:function(){this.stream&&(this.stream.getTracks().forEach(a=>a.stop()),this.stream=null),this.opened=!1,this.window=null}},p={opened:!1,window:null,cleanup:function(){this.opened=!1,this.window=null}},u={opened:!1,window:null,cleanup:function(){this.opened=!1,this.window=null}},m={opened:!1,window:null,inputElem:null,cleanup:function(){this.opened=!1,this.window=null,this.inputElem=null}},T=(a,n,e)=>{if(a.key=="Enter"){console.log("ENTER PRESSED");const o=n.querySelector("span"),t=n.querySelector("input");if(t.value=="")return;const l=document.createElement("div"),s=o.cloneNode(!0),d=document.createElement("span");d.textContent=t.value,l.appendChild(s),l.appendChild(d),e.appendChild(l),t.value="",e.scrollTop=e.scrollHeight}else return};document.addEventListener("DOMContentLoaded",a=>{const n=document.getElementById("mainDiv"),e=document.getElementById("camera"),o=document.getElementById("settings"),t=document.getElementById("terminal"),l=document.getElementById("resumeIcon");let s=localStorage.getItem("wallpaper");s=s||"1.png",c.wallpaper=s,n.style.backgroundImage=`url(/assets/wallpapers/${s})`,e.addEventListener("click",B),o.addEventListener("click",P),l.addEventListener("click",k),t.addEventListener("click",D)});const D=a=>{if(m.opened)return;m.opened=!0;const n=f("Terminal",m);m.window=n,n.addEventListener("mousedown",()=>{w(m,c)});const e=document.createElement("div");e.className="w-full h-full px-1 bg-[rgba(255,255,255,1)] overflow-scroll";const o=document.createElement("div");o.className="flex flex-col space-x-2";const t=document.createElement("div");t.className="flex flex-row space-x-2";const l=document.createElement("span");l.innerText="root@webOS :  ",l.className="font-bold text-blue-500";const s=document.createElement("input");s.type="text",s.className="text-black outline-0",s.addEventListener("keydown",d=>{T(d,t,o)}),t.appendChild(l),t.appendChild(s),e.appendChild(o),e.appendChild(t),n.appendChild(e),document.body.appendChild(n)},k=a=>{if(u.opened)return;u.opened=!0;const n=f("Resume",u);u.window=n;const e=document.createElement("div");e.className="w-full h-full bg-white overflow-scroll px-14";const o=document.createElement("img");o.src="/assets/resume.svg",n.addEventListener("mousedown",()=>{w(u,c)}),e.appendChild(o),n.appendChild(e),document.body.appendChild(n)},B=a=>{if(r.opened)return;r.opened=!0;const n=f("Camera",r);if(r.window=n,n.addEventListener("mousedown",()=>{w(r,c)}),navigator&&navigator.mediaDevices){const e={audio:!1,video:{facingMode:"user"}},o=document.createElement("video");o.className="w-full h-full scale-x-[-1]",navigator.mediaDevices.getUserMedia(e).then(t=>{r.stream=t,o.srcObject=t,o.onloadedmetadata=function(l){o.play()},n.appendChild(o)}).catch(t=>{x(n,t)})}else x(n,"CAMERA NOT SUPPORTED :(");document.body.appendChild(n)},P=a=>{if(p.opened)return;p.opened=!0;const n=f("Settings",p);p.window=n,n.addEventListener("mousedown",()=>{w(p,c)});const e=document.createElement("div");e.className="w-full h-full bg-white flex";const o=document.createElement("div");o.className="flex flex-col items-center relative space-y-2 border-r-2 border-r-black shadow-2xl shadow-gray-500 w-[15%] pt-2",S.map(l=>{const s=document.createElement("p");s.textContent=l;const d=document.createElement("div");d.className="border-b-2 border-b-black w-full shadow-2xl",o.appendChild(s),o.appendChild(d)});const t=document.createElement("div");t.id="setting-content",t.className="flex flex-row flex-wrap w-full justify-center space-x-5 pt-5",O.map(l=>{const s=document.createElement("img");s.className="w-[150px] h-[150px] border-4 border-black",s.src=`/assets/wallpapers/${l}`,t.appendChild(s),s.addEventListener("click",d=>{d.preventDefault(),I(l)})}),e.appendChild(o),e.appendChild(t),n.appendChild(e),document.body.appendChild(n)};
