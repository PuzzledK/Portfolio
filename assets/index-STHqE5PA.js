(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const w=(l,e)=>{const t=document.createElement("div");t.className="flex flex-col h-[500px] w-[900px] absolute left-40 top-10 bg-black";const o=document.createElement("div");o.className="flex h-[5%] justify-between w-full bg-black items-baseline px-2 items-center";const n=document.createElement("p");n.textContent=l,n.style.color="white";const s=document.createElement("button");s.className="w-[1.2rem] h-[1.2rem] flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition",s.textContent="X",s.addEventListener("click",d=>{t.classList.add("out"),t.addEventListener("animationend",()=>{t.remove(),e&&e.cleanup&&e.cleanup()})});let a=!1,i,g;return o.addEventListener("mousedown",d=>{a=!0,i=d.clientX-t.offsetLeft,g=d.clientY-t.offsetTop,o.classList.remove("cursor-grab"),o.classList.add("cursor-grabbing"),d.preventDefault()}),document.addEventListener("mousemove",d=>{if(!a)return;const b=window.innerWidth,x=window.innerHeight,v=t.getBoundingClientRect(),y=document.getElementById("sideNav").getBoundingClientRect().width,C=b-v.width,L=x-v.height;let u=d.clientX-i,f=d.clientY-g;u=Math.max(y,Math.min(u,C)),f=Math.max(0,Math.min(f,L)),t.style.position="absolute",t.style.left=u+"px",t.style.top=f+"px"}),document.addEventListener("mouseup",()=>{a&&(a=!1,t.classList.remove("cursor-grabbing"))}),o.appendChild(n),o.appendChild(s),t.appendChild(o),t},E=(l,e)=>{const t=document.createElement("div");t.className="flex w-full h-full items-center justify-center text-white";const o=document.createElement("h4");o.textContent=e,t.appendChild(o),l.appendChild(t)},h=(l,e)=>{l.window&&(l.window.style.zIndex=e.zind++)},c={zind:100,wallpaper:""},N=["Wallpaper"],O=["1.png","2.jpg","3.jpeg"],I=l=>{const e=document.getElementById("mainDiv");c.wallpaper=l,localStorage.setItem("wallpaper",l),e.style.backgroundImage=`url(/assets/wallpapers/${c.wallpaper})`},r={opened:!1,stream:null,window:null,cleanup:function(){this.stream&&(this.stream.getTracks().forEach(l=>l.stop()),this.stream=null),this.opened=!1,this.window=null}},m={opened:!1,window:null,cleanup:function(){this.opened=!1,this.window=null}},p={opened:!1,window:null,cleanup:function(){this.opened=!1,this.window=null}};document.addEventListener("DOMContentLoaded",l=>{const e=document.getElementById("mainDiv"),t=document.getElementById("camera"),o=document.getElementById("settings"),n=document.getElementById("resumeIcon");let s=localStorage.getItem("wallpaper");s=s||"1.png",c.wallpaper=s,e.style.backgroundImage=`url(/assets/wallpapers/${s})`,t.addEventListener("click",B),o.addEventListener("click",P),n.addEventListener("click",D)});const D=l=>{if(p.opened)return;p.opened=!0;const e=w("Resume",p);p.window=e;const t=document.createElement("div");t.className="w-full h-full bg-white overflow-scroll px-14";const o=document.createElement("img");o.src="/assets/resume.svg",e.addEventListener("mousedown",()=>{h(p,c)}),t.appendChild(o),e.appendChild(t),document.body.appendChild(e)},B=l=>{if(r.opened)return;r.opened=!0;const e=w("Camera",r);if(r.window=e,e.addEventListener("mousedown",()=>{h(r,c)}),navigator&&navigator.mediaDevices){const t={audio:!1,video:{facingMode:"user"}},o=document.createElement("video");o.className="w-full h-full scale-x-[-1]",navigator.mediaDevices.getUserMedia(t).then(n=>{r.stream=n,o.srcObject=n,o.onloadedmetadata=function(s){o.play()},e.appendChild(o)}).catch(n=>{E(e,n)})}else E(e,"CAMERA NOT SUPPORTED :(");document.body.appendChild(e)},P=l=>{if(m.opened)return;m.opened=!0;const e=w("Settings",m);m.window=e,e.addEventListener("mousedown",()=>{h(m,c)});const t=document.createElement("div");t.className="w-full h-full bg-white flex";const o=document.createElement("div");o.className="flex flex-col items-center relative space-y-2 border-r-2 border-r-black shadow-2xl shadow-gray-500 w-[15%] pt-2",N.map(s=>{const a=document.createElement("p");a.textContent=s;const i=document.createElement("div");i.className="border-b-2 border-b-black w-full shadow-2xl",o.appendChild(a),o.appendChild(i)});const n=document.createElement("div");n.id="setting-content",n.className="flex flex-row flex-wrap w-full justify-center space-x-5 pt-5",O.map(s=>{const a=document.createElement("img");a.className="w-[150px] h-[150px] border-4 border-black",a.src=`/assets/wallpapers/${s}`,n.appendChild(a),a.addEventListener("click",i=>{i.preventDefault(),I(s)})}),t.appendChild(o),t.appendChild(n),e.appendChild(t),document.body.appendChild(e)};
