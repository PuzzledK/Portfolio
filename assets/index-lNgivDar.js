(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=t(e);fetch(e.href,i)}})();const w=(s,n)=>{const t=document.createElement("div");t.className="flex flex-col h-[500px] w-[900px] absolute left-40 top-10 bg-black";const o=document.createElement("div");o.className="flex h-[5%] justify-between w-full bg-gray-500 items-baseline px-2 items-center";const e=document.createElement("p");e.textContent=s,e.style.color="white";const i=document.createElement("button");i.className="w-[1.2rem] h-[1.2rem] flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition",i.textContent="X",i.addEventListener("click",c=>{t.remove(),n&&n.cleanup&&n.cleanup()});let r=!1,m,f;return o.addEventListener("mousedown",c=>{r=!0,m=c.clientX-t.offsetLeft,f=c.clientY-t.offsetTop,o.classList.remove("cursor-grab"),o.classList.add("cursor-grabbing"),c.preventDefault()}),document.addEventListener("mousemove",c=>{if(!r)return;const g=window.innerWidth,v=window.innerHeight,p=t.getBoundingClientRect(),E=document.getElementById("sideNav").getBoundingClientRect().width,y=g-p.width,x=v-p.height;let a=c.clientX-m,u=c.clientY-f;a=Math.max(E,Math.min(a,y)),u=Math.max(0,Math.min(u,x)),t.style.position="absolute",t.style.left=a+"px",t.style.top=u+"px"}),document.addEventListener("mouseup",()=>{r&&(r=!1,t.classList.remove("cursor-grabbing"))}),o.appendChild(e),o.appendChild(i),t.appendChild(o),t},h=(s,n)=>{const t=document.createElement("div");t.className="flex w-full h-full items-center justify-center text-white";const o=document.createElement("h4");o.textContent=n,t.appendChild(o),s.appendChild(t)},d={opened:!1,stream:null,window:null,cleanup:function(){this.stream&&(this.stream.getTracks().forEach(s=>s.stop()),this.stream=null),this.opened=!1,this.window=null}},l={opened:!1,window:null};document.addEventListener("DOMContentLoaded",s=>{const n=document.getElementById("camera"),t=document.getElementById("settings");n.addEventListener("click",b),t.addEventListener("click",C)});const b=s=>{if(d.opened)return;d.opened=!0;const n=w("Camera",d);if(d.window=n,navigator&&navigator.mediaDevices){const t={audio:!1,video:{facingMode:"user"}},o=document.createElement("video");o.className="w-full h-full scale-x-[-1]",navigator.mediaDevices.getUserMedia(t).then(e=>{d.stream=e,o.srcObject=e,o.onloadedmetadata=function(i){o.play()},n.appendChild(o)}).catch(e=>{h(n,e)})}else h(n,"CAMERA NOT SUPPORTED :(");document.body.appendChild(n)},C=s=>{if(l.opened)return;l.opened=!0;const n=w("Settings",l);l.window=n,document.body.appendChild(n)};
